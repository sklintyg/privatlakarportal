<div pp-field="postnummer">
  <input type="text" id="postnummer" name="postnummer" ng-model="registerModel.postnummer" class='form-control'
         style='max-width: 6em' value="" required ng-maxlength="6" maxlength="6" popover-placement="right"
         popover-trigger="focus" popover="Ange postadressens postnummer i fem siffor 0-9, med eller utan mellanslag. Postort, kommun och län fylls i automatiskt."
      validate-region region-model="registerModel">
</div>

<div ng-show="viewState.kommunSelectionMode">
  <div class="alert alert-warning">
    Uppgift om kommun har {{viewState.kommunHits}} träffar. Ange den kommun som är rätt.
  </div>
</div>
<div alert-message alert-model="viewState.errorMessage.region" alert-severity="danger"></div>
<div class="alert alert-warning" ng-show="viewState.validPostnummer && registerModel.postort == null && viewState.errorMessage.region == null">
  <i>Inga träffar för postnummer {{registerModel.postnummer}}. Var vänlig kontrollera postnumret och försök igen.</i>
</div>

<div>
  <div pp-spinner show-spinner="viewState.loading.region" label="common.label.loading">

    <div>

      <div pp-field="postort">
        <div class="readonly-field">
          {{registerModel.postort}}
        </div>
      </div>

      <div pp-field="kommun">
        <div ng-show="!viewState.kommunSelectionMode">
          <div class="readonly-field">
            {{registerModel.kommun}}
          </div>
        </div>
        <div ng-if="viewState.kommunSelectionMode">
          <select required id="kommun" name="kommun" class="form-control" ng-model="viewState.kommunSelected"
                  ng-options="s.label for s in viewState.kommunOptions track by s.id" popover-placement="right"
                  popover-trigger="focus" popover="Kommun där verksamheten finns.">
            <option value="">Välj kommun</option>
          </select>
        </div>
      </div>

      <div>
        <div pp-field="lan">
          <div class="readonly-field">
            {{registerModel.lan}}
          </div>
        </div>
      </div>

    </div>

  </div>
</div>